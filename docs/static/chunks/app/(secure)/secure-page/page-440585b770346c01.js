(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[462],{7666:function(t,n,e){Promise.resolve().then(e.bind(e,3879))},3879:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return i}});var o=e(9533),u=e(6353),c=e(5767),r=e(2325);function i(){let{account:t}=(0,c.Eu)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{children:"Secure Area"}),(0,o.jsxs)("h2",{children:["Authorized as ",null==t?void 0:t.name]}),(0,o.jsx)("p",{children:"You should only be able to see this page if you are logged in"}),(0,o.jsx)("p",{children:(0,o.jsx)(u.default,{href:"/",children:"Back to home"})}),(0,o.jsx)("p",{children:(0,o.jsx)(r.s,{})})]})}},2183:function(t,n,e){"use strict";e.d(n,{v:function(){return c}});var o=e(7639),u=e(4492);async function c(){let t="".concat(window.location.origin,"/azure-auth-fe-only-challenge/"),n={auth:{clientId:u.env.NEXT_PUBLIC_AZURE_CLIENT_ID,redirectUri:t,authority:"https://login.microsoftonline.com/consumers",postLogoutRedirectUri:t},cache:{cacheLocation:"localStorage"}};return await o.G0(n)}},5767:function(t,n,e){"use strict";e.d(n,{AuthContextProvider:function(){return l},Eu:function(){return a}});var o=e(9533),u=e(1229),c=e(2183);let r={account:null,setAccount:()=>null},i=(0,u.createContext)(r);function a(){return(0,u.useContext)(i)}function l(t){let{children:n}=t,[e,a]=(0,u.useState)(null),[l,s]=(0,u.useState)(r);return(0,u.useEffect)(()=>{(async function(){try{let t=await (0,c.v)(),n=await t.getActiveAccount();a(n)}catch(t){a(null)}})()},[]),(0,u.useEffect)(()=>{s({account:e,setAccount:a})},[e]),(0,o.jsx)(i.Provider,{value:l,children:n})}},2325:function(t,n,e){"use strict";e.d(n,{s:function(){return l}});var o=e(9533),u=e(1250),c=e(2183),r=e(5767),i=e(5295),a=e.n(i);function l(){let{setAccount:t}=(0,r.Eu)(),n=(0,u.useRouter)();return(0,o.jsx)("button",{className:a().LogInButton,onClick:async()=>{try{let e=await (0,c.v)();await e.logoutPopup(),t(null),setTimeout(()=>{n.push("/")})}catch(t){alert("Logout failed"),console.error(t)}},children:"Logout"})}},5295:function(t){t.exports={LogInButton:"LogInButton_LogInButton__iL0Wj"}}},function(t){t.O(0,[98,54,958,170,842,744],function(){return t(t.s=7666)}),_N_E=t.O()}]);